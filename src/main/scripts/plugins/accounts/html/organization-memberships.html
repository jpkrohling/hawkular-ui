<div class="row">
  <div class="col-md-12" ng-controller="HawkularAccounts.OrganizationMembershipController as controller">
    <ol class="breadcrumb">
      <li><a data-ng-href="/hawkular-ui/organizations">&laquo; All organizations</a></li>
    </ol>

    <h1 class="text-center">Organization {{controller.organization.name}}</h1>

    <div class="pull-right" ng-show="controller.memberships.length && !controller.loading && controller.foundOrganization">
      <button
        class="btn btn-primary"
        type="button"
        role="button"
        ng-click="controller.showInviteModal()"
        ng-show="controller.isAllowedToInvite">
          Invite People
      </button>
    </div>
    <h2>Members</h2>

    <div class="progress-description" ng-show="controller.loading">
      <div class="spinner spinner-xs spinner-inline"></div>
      <strong>Loading:</strong> Organization members
    </div>

    <div ng-show="!controller.loading && controller.foundOrganization">
      <div class="row text-center" ng-show="!controller.memberships.length">
        <i class="fa fa-users" id="empty-organizations-icon"></i>
        <h2>No members for this organization (not even you?). Found organization: {{controller.foundOrganization}}</h2>
        <p>
          With organizations, multiple users can have access<br/>
          to the same resources, with multiple roles.
        </p>
        <button
          class="btn btn-primary"
          type="button"
          role="button"
          ng-click="controller.showInviteModal()"
          ng-show="controller.isAllowedToInvite">
            Invite People
        </button>
      </div>

      <div ng-show="controller.memberships.length">
        <table class="table table-striped table-bordered">
          <thead>
          <tr>
            <th>Name</th>
            <th>Role</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="membership in controller.memberships">
            <td>{{membership.member.name}}</td>
            <td>{{membership.role.name}}</td>
          </tr>
          <tr ng-repeat="invitation in controller.pending" ng-show="controller.isAllowedToListPending">
            <td>{{invitation.email}} <span class="label label-default">INVITED</span></td>
            <td>{{invitation.role.name}}</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row text-center" ng-show="!controller.loading && !controller.foundOrganization">
      <i class="fa fa-users" id="organization-not-found-icon"></i>
      <h2>Organization not found.</h2>
      <p>
        The requested organization could not be found.
      </p>
    </div>

  </div>
  <!-- /col -->
</div>
