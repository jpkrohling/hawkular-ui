<div class="hk-alert-center-detail">

  <div class="hk-screen-top-nav">
    <div class="container">
      <div class="row hk-top-row">
        <div class="col-xs-6">
          <a href="/hawkular-ui/alerts-center" class="back">&laquo; All Alerts</a>
        </div>
      </div>
      <div class="hk-heading">
        <h1>Alert Details</h1>
      </div>
    </div>
  </div>

  <div class="container">

    <div class="row">
      <div class="col-md-9">
        <div class="panel panel-default clearfix">
          <div class="panel-heading">
            <h2>{{acd.description | characters: 55}}</h2>
          </div>
          <div class="panel-body">
            <form class="form-horizontal">
              <fieldset>
                <div class="form-group">
                  <label class="col-sm-2 control-label" for="status">State</label>
                  <div class="col-sm-6">
                    <select pf-select ng-model="acd.status" id="status">
                      <option ng-repeat="status in acd.statuses" value="{{status}}">{{status | firstUpper}}</option>
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Severity</label>
                  <div class="col-sm-10">
                    <span class="hk-input-text">{{acd.detailAlert.severity | firstUpper}}</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Description
                    <a class="hk-btn-icon"><i tooltip="Trigger description" tooltip-trigger tooltip-placement="top" class="fa fa-info-circle"></i></a>
                  </label>
                  <div class="col-sm-10">
                    <span class="hk-input-text">{{acd.description}}</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Created</label>
                  <div class="col-sm-10">
                    <span class="hk-input-text">{{acd.detailAlert.ctime | date:'d MMM yyyy, HH:mm'}}</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Resource Path
                    <a class="hk-btn-icon"><i tooltip="e = environment, f = feed, r = the resource id" tooltip-trigger tooltip-placement="top" class="fa fa-info-circle"></i></a>
                  </label>
                  <div class="col-sm-10">
                    <span class="hk-input-text">{{acd.detailAlert.context.resourcePath}}</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Feed Id</label>
                  <div class="col-sm-10">
                    <span class="hk-input-text">{{acd.feedId}}</span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Comments</label>
                  <div class="col-sm-10">
                    <ul class="hk-comment-list">
                      <li ng-repeat="note in acd.detailAlert.notes">
                        <span class="pficon pficon-user"></span>
                        <span class="hk-author">{{note.user}}</span>
                        <span class="hk-date">{{note.ctime | date:'d MMM yyyy, HH:mm'}}</span>
                        <p>{{note.text}}</p>
                      </li>
                    </ul>
                    <textarea class="form-control" rows="2" ng-model="acd.comments" placeholder="Add a comment..."></textarea>
                  </div>
                </div>
                <div class="form-actions">
                  <button class="btn btn-default" type="button" ng-click="acd.save()">Comment</button>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="panel panel-default clearfix" ng-show="acd.actionsHistory.length > 0">
          <div class="panel-heading">
            <h2>Notifications</h2>
          </div>
          <div class="panel-body">
            <div class="hk-box-v-item" ng-repeat="action in acd.actionsHistory">
              <div class="hk-display-table">
                <div class="hk-icon-container">
                  <i class="fa fa-envelope-o"></i>
                </div>
                <div class="hk-info-container">
                  <div class="hk-info-heading">{{action.actionId}}</div>
                  <p class="hk-info-info">{{action.actionPlugin | firstUpper}}</p>
                  <p class="hk-info-info">{{action.alert.status | firstUpper}}</p>
                  <p class="hk-info-info">{{action.ctime | date:'d MMM yyyy, HH:mm'}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>

</div>
